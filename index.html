<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { background-color: #ffffff; padding: 30px; border-radius: 12px; box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08); width: 100%; max-width: 500px; text-align: center; }
        h1 { color: #2c3e50; margin-bottom: 25px; font-size: 1.8em; }
        .search-box { display: flex; margin-bottom: 20px; }
        .search-box input { flex-grow: 1; padding: 12px 18px; border: 1px solid #ced4da; border-radius: 8px 0 0 8px; font-size: 1em; outline: none; transition: border-color 0.3s; }
        .search-box input:focus { border-color: #007bff; }
        .search-box button { background-color: #007bff; color: white; border: none; padding: 12px 20px; border-radius: 0 8px 8px 0; cursor: pointer; font-size: 1em; transition: background-color 0.3s; }
        .search-box button:hover { background-color: #0056b3; }
        .quick-reply { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-bottom: 30px; }
        .quick-reply button { background-color: #e9ecef; color: #495057; border: 1px solid #dee2e6; padding: 8px 15px; border-radius: 20px; cursor: pointer; font-size: 0.9em; transition: background-color 0.3s, color 0.3s; }
        .quick-reply button:hover { background-color: #007bff; color: white; }
        .result-box { text-align: left; border-top: 1px solid #eee; padding-top: 20px; }
        .result-item { background-color: #f8f9fa; border-left: 4px solid #007bff; padding: 15px; border-radius: 8px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); }
        .result-item h3 { color: #007bff; margin-top: 0; margin-bottom: 10px; font-size: 1.2em; }
        .result-item p { margin-bottom: 5px; color: #343a40; line-height: 1.6; }
        .result-item a { color: #007bff; text-decoration: none; font-weight: bold; }
        .result-item a:hover { text-decoration: underline; }
        .not-found { color: #dc3545; font-weight: bold; margin-top: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</h1>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏´‡∏±‡∏™‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£, ‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (‡πÄ‡∏ä‡πà‡∏ô 31001, CBC, ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏•‡∏∑‡∏≠‡∏î)">
            <button onclick="searchMedicalService()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
        </div>
        <div class="quick-reply">
            <button onclick="setSearchInput('CBC')">CBC</button>
            <button onclick="setSearchInput('HbA1c')">HbA1c</button>
            <button onclick="setSearchInput('Urinalysis')">Urinalysis</button>
            <button onclick="setSearchInput('Cholesterol')">Cholesterol</button>
        </div>
        <div id="searchResults" class="result-box">
            <!-- Search results will be displayed here -->
        </div>
    </div>

    <script>
        const knowledgeBase = [
            {
                "labCode": "31001",
                "nameTh": "‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏ô‡πâ‡∏≥‡∏õ‡∏±‡∏™‡∏™‡∏≤‡∏ß‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (Urinalysis)",
                "nameEn": "Urinalysis (Physical + Chemical + Microscopic) PANEL.UA",
                "rate": 60,
                "reimbursable": true,
                "rights": "‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥ (‡∏Å‡∏£‡∏°‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Å‡∏•‡∏≤‡∏á / ‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏° / ‡∏£‡∏±‡∏ê‡∏ß‡∏¥‡∏™‡∏≤‡∏´‡∏Å‡∏¥‡∏à)",
                "cgdCode": "MED0301010",
                "cpt": "81000",
                "icd10": "R82.9 (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡∏û‡∏ö‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏õ‡∏±‡∏™‡∏™‡∏≤‡∏ß‡∏∞)",
                "notes": "‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡∏ï‡∏£‡∏ß‡∏à albumin, glucose ‡∏´‡∏≤‡∏Å‡πÄ‡∏ö‡∏¥‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ö‡∏¥‡∏Å‡∏Ñ‡πà‡∏≤‡∏ï‡∏£‡∏ß‡∏à albumin ‡πÅ‡∏•‡∏∞ glucose ‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å ‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏Å‡∏£‡∏°‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Å‡∏•‡∏≤‡∏á ‡∏ó‡∏µ‡πà ‡∏Å‡∏Ñ 0416.2/‡∏ß 393 ‡∏•‡∏ß. 10 ‡∏ï.‡∏Ñ.60 ‡∏°‡∏µ‡∏ú‡∏•‡πÉ‡∏ä‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤ ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 ‡∏°.‡∏Ñ.61 ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏õ"
            },
            {
                "labCode": "30101",
                "nameTh": "‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡πÄ‡∏°‡πá‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏î (CBC)",
                "nameEn": "Complete Blood Count (CBC)",
                "rate": 100,
                "reimbursable": true,
                "rights": "‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥ (‡∏Å‡∏£‡∏°‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Å‡∏•‡∏≤‡∏á / ‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏° / ‡∏£‡∏±‡∏ê‡∏ß‡∏¥‡∏™‡∏≤‡∏´‡∏Å‡∏¥‡∏à)",
                "cgdCode": "MED0301020",
                "cpt": "85025",
                "icd10": "D69.6 (‡∏†‡∏≤‡∏ß‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏≠‡∏≠‡∏Å‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏≠‡∏∑‡πà‡∏ô‡πÜ)",
                "notes": "‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£"
            },
            {
                "labCode": "32401",
                "nameTh": "‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏™‡∏∞‡∏™‡∏°‡πÉ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î (HbA1c)",
                "nameEn": "Glycated Hemoglobin (HbA1c)",
                "rate": 180,
                "reimbursable": true,
                "rights": "‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥ (‡∏Å‡∏£‡∏°‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Å‡∏•‡∏≤‡∏á / ‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏° / ‡∏£‡∏±‡∏ê‡∏ß‡∏¥‡∏™‡∏≤‡∏´‡∏Å‡∏¥‡∏à)",
                "cgdCode": "MED0302040",
                "cpt": "83036",
                "icd10": "E11.9 (‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô‡∏ä‡∏ô‡∏¥‡∏î‡∏ó‡∏µ‡πà 2)",
                "notes": "‡∏ï‡∏£‡∏ß‡∏à‡πÑ‡∏î‡πâ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á/‡∏õ‡∏µ"
            },
            {
                "labCode": "30201",
                "nameTh": "‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÉ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î (Glucose)",
                "nameEn": "Blood Glucose",
                "rate": 50,
                "reimbursable": true,
                "rights": "‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥",
                "cgdCode": "MED0302010",
                "cpt": "82947",
                "icd10": "R73.0 (‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÉ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏™‡∏π‡∏á)",
                "notes": "‡∏Ñ‡∏ß‡∏£‡∏á‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏° 8-12 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏£‡∏ß‡∏à (‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡∏•‡πà‡∏≤)"
            },
            {
                "labCode": "30301",
                "nameTh": "‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏Ñ‡∏≠‡πÄ‡∏•‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡∏≠‡∏•‡∏£‡∏ß‡∏° (Cholesterol)",
                "nameEn": "Total Cholesterol",
                "rate": 60,
                "reimbursable": true,
                "rights": "‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥",
                "cgdCode": "MED0303010",
                "cpt": "82465",
                "icd10": "E78.0 (‡∏†‡∏≤‡∏ß‡∏∞‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡πÉ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏™‡∏π‡∏á)",
                "notes": "‡∏Ñ‡∏ß‡∏£‡∏á‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏° 9-12 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏£‡∏ß‡∏à (‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡∏•‡πà‡∏≤)"
            },
            {
                "labCode": "30302",
                "nameTh": "‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡πÑ‡∏ï‡∏£‡∏Å‡∏•‡∏µ‡πÄ‡∏ã‡∏≠‡πÑ‡∏£‡∏î‡πå (Triglyceride)",
                "nameEn": "Triglyceride",
                "rate": 80,
                "reimbursable": true,
                "rights": "‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥",
                "cgdCode": "MED0303020",
                "cpt": "84478",
                "icd10": "E78.1 (‡∏†‡∏≤‡∏ß‡∏∞‡πÑ‡∏ï‡∏£‡∏Å‡∏•‡∏µ‡πÄ‡∏ã‡∏≠‡πÑ‡∏£‡∏î‡πå‡∏™‡∏π‡∏á)",
                "notes": "‡∏Ñ‡∏ß‡∏£‡∏á‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏° 9-12 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏£‡∏ß‡∏à (‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡∏•‡πà‡∏≤)"
            },
            {
                "labCode": "30303",
                "nameTh": "‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÑ‡∏Ç‡∏°‡∏±‡∏ô HDL (HDL-C)",
                "nameEn": "HDL Cholesterol",
                "rate": 70,
                "reimbursable": true,
                "rights": "‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥",
                "cgdCode": "MED0303030",
                "cpt": "80061",
                "icd10": "E78.6 (‡∏†‡∏≤‡∏ß‡∏∞‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡πÉ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏≠‡∏∑‡πà‡∏ô‡πÜ)",
                "notes": "‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£"
            },
            {
                "labCode": "30304",
                "nameTh": "‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÑ‡∏Ç‡∏°‡∏±‡∏ô LDL (LDL-C)",
                "nameEn": "LDL Cholesterol",
                "rate": 70,
                "reimbursable": true,
                "rights": "‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥",
                "cgdCode": "MED0303040",
                "cpt": "80061",
                "icd10": "E78.2 (‡∏†‡∏≤‡∏ß‡∏∞‡πÑ‡∏Ç‡∏°‡∏±‡∏ô LDL ‡∏™‡∏π‡∏á)",
                "notes": "‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£"
            },
            {
                "labCode": "30401",
                "nameTh": "‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ö (SGOT/AST)",
                "nameEn": "SGOT/AST",
                "rate": 50,
                "reimbursable": true,
                "rights": "‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥",
                "cgdCode": "MED0304010",
                "cpt": "84450",
                "icd10": "R74.0 (‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏≠‡∏ô‡πÑ‡∏ã‡∏°‡πå‡∏ï‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥)",
                "notes": "‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£"
            },
            {
                "labCode": "30402",
                "nameTh": "‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ö (SGPT/ALT)",
                "nameEn": "SGPT/ALT",
                "rate": 50,
                "reimbursable": true,
                "rights": "‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥",
                "cgdCode": "MED0304020",
                "cpt": "84460",
                "icd10": "R74.0 (‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏≠‡∏ô‡πÑ‡∏ã‡∏°‡πå‡∏ï‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥)",
                "notes": "‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£"
            }
        ];

        function generateCgdLink(query) {
            return `https://mbdb.cgd.go.th/wel/searchmed.jsp?method=search&service_name=${encodeURIComponent(query)}`;
        }

        function displayResult(item, query) {
            const searchResultsDiv = document.getElementById('searchResults');
            searchResultsDiv.innerHTML = ''; // Clear previous results

            if (item) {
                const cgdLink = generateCgdLink(query);
                const resultHtml = `
                    <div class="result-item">
                        <h3>üîç ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£: ${item.nameTh} (${item.nameEn})</h3>
                        <p>üíµ ‡∏≠‡∏±‡∏ï‡∏£‡∏≤: ${item.rate.toFixed(2)} ‡∏ö‡∏≤‡∏ó</p>
                        <p>‚úÖ ‡πÄ‡∏ö‡∏¥‡∏Å‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥: ${item.rights}</p>
                        ${item.notes ? `<p>üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ${item.notes}</p>` : ''}
                        <p>‚ÑπÔ∏è ‡∏£‡∏´‡∏±‡∏™‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô:</p>
                        <ul>
                            <li>CPT: ${item.cpt}</li>
                            <li>ICD-10: ${item.icd10}</li>
                            <li>‡∏£‡∏´‡∏±‡∏™ CGD: ${item.cgdCode}</li>
                        </ul>
                        <p>üîó ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£: <a href="${cgdLink}" target="_blank">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÉ‡∏ô mbdb.cgd.go.th</a></p>
                    </div>
                `;
                searchResultsDiv.innerHTML = resultHtml;
            } else {
                const cgdLink = generateCgdLink(query);
                searchResultsDiv.innerHTML = `
                    <p class="not-found">‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
                    <p>‡πÅ‡∏ï‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà: <a href="${cgdLink}" target="_blank">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ "${query}" ‡πÉ‡∏ô mbdb.cgd.go.th</a></p>
                    <p>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏à‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡∏Å‡∏£‡∏°‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Å‡∏•‡∏≤‡∏á</p>
                `;
            }
        }

        function searchMedicalService() {
            const query = document.getElementById('searchInput').value.trim();
            if (!query) {
                document.getElementById('searchResults').innerHTML = '';
                return;
            }

            const lowerCaseQuery = query.toLowerCase();
            let foundItem = null;

            // Fuzzy search logic
            for (const item of knowledgeBase) {
                if (item.labCode.toLowerCase().includes(lowerCaseQuery) ||
                    item.nameTh.toLowerCase().includes(lowerCaseQuery) ||
                    item.nameEn.toLowerCase().includes(lowerCaseQuery) ||
                    item.cpt.toLowerCase().includes(lowerCaseQuery) ||
                    item.icd10.toLowerCase().includes(lowerCaseQuery) ||
                    item.cgdCode.toLowerCase().includes(lowerCaseQuery)) {
                    foundItem = item;
                    break;
                }
            }
            displayResult(foundItem, query);
        }

        function setSearchInput(value) {
            document.getElementById('searchInput').value = value;
            searchMedicalService();
        }
    </script>
</body>
</html>