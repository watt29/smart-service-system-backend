<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Service System - ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7f6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: #333;
        }
        .container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
            text-align: center;
        }
        h1 {
            color: #0056b3;
            margin-bottom: 25px;
            font-size: 1.8em;
        }
        .search-box {
            display: flex;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }
        .search-box input[type="text"] {
            flex-grow: 1;
            padding: 12px 15px;
            border: none;
            outline: none;
            font-size: 1em;
        }
        .search-box button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease;
        }
        .search-box button:hover {
            background-color: #0056b3;
        }
        .quick-reply-container {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }
        .quick-reply-button {
            background-color: #e9ecef;
            color: #495057;
            border: 1px solid #ced4da;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .quick-reply-button:hover {
            background-color: #007bff;
            color: white;
        }
        .result-box {
            background-color: #eaf4f4;
            border: 1px solid #cce7e7;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
            text-align: left;
            white-space: pre-wrap; /* ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà */
            word-wrap: break-word;
        }
        .result-box a {
            color: #007bff;
            text-decoration: none;
        }
        .result-box a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•</h1>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£, ‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (‡πÄ‡∏ä‡πà‡∏ô HbA1c, CBC, 31001)">
            <button onclick="performSearch()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
        </div>
        <div class="quick-reply-container" id="quickReplyContainer">
            <!-- Quick Reply Buttons will be inserted here by JavaScript -->
        </div>
        <div class="result-box" id="resultBox">
            <!-- Search results will be displayed here -->
            <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏õ‡∏∏‡πà‡∏° Quick Reply ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</p>
        </div>
    </div>

    <script>
        const KNOWLEDGE_BASE_ITEMS = [
            { "query": "CBC", "display": "CBC" },
            { "query": "HbA1c", "display": "HbA1c" },
            { "query": "31001", "display": "Urinalysis" }
        ];

        // Function to generate CGD search link (same as in Python)
        function generateCgdSearchLink(query) {
            const encodedQuery = encodeURIComponent(query);
            return `https://mbdb.cgd.go.th/wel/searchmed.jsp?method=search&service_name=${encodedQuery}`;
        }

        // Function to simulate search in knowledge base (simplified for UI mockup)
        function simulateSearch(query) {
            const queryLower = query.toLowerCase();
            const foundItem = KNOWLEDGE_BASE_ITEMS.find(item => 
                item.query.toLowerCase() === queryLower || 
                item.display.toLowerCase() === queryLower
            );

            if (foundItem) {
                // Simulate a detailed response for known items
                let response = `üîç ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£: ${foundItem.display}\n`;
                response += `üíµ ‡∏≠‡∏±‡∏ï‡∏£‡∏≤: (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á)\n`;
                response += `‚úÖ ‡πÄ‡∏ö‡∏¥‡∏Å‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥: (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á)\n`;
                response += `üîó ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£:\n`;
                response += `<a href="${generateCgdSearchLink(query)}" target="_blank">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÉ‡∏ô mbdb.cgd.go.th</a>\n`;
                response += `‚ÑπÔ∏è ‡∏£‡∏´‡∏±‡∏™‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô: (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á)\n`;
                response += `\n*‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö (‡∏à‡∏≥‡∏•‡∏≠‡∏á) ‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Å‡∏£‡∏°‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Å‡∏•‡∏≤‡∏á*`;
                return response;
            } else {
                // Not found in simulated knowledge base
                let response = `‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• \"${query}\" ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô (‡∏à‡∏≥‡∏•‡∏≠‡∏á)\n\n`;
                response += `‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà:\n`;
                response += `<a href="${generateCgdSearchLink(query)}" target="_blank">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ \"${query}\" ‡πÉ‡∏ô mbdb.cgd.go.th</a>`;
                return response;
            }
        }

        function performSearch(query = null) {
            const searchInput = document.getElementById('searchInput');
            const resultBox = document.getElementById('resultBox');
            const actualQuery = query || searchInput.value.trim();

            if (actualQuery) {
                resultBox.innerHTML = simulateSearch(actualQuery);
            } else {
                resultBox.innerHTML = '<p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏õ‡∏∏‡πà‡∏° Quick Reply ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</p>';
            }
        }

        function createQuickReplyButtons() {
            const quickReplyContainer = document.getElementById('quickReplyContainer');
            KNOWLEDGE_BASE_ITEMS.forEach(item => {
                const button = document.createElement('button');
                button.className = 'quick-reply-button';
                button.textContent = item.display;
                button.onclick = () => {
                    document.getElementById('searchInput').value = item.query; // Set input value
                    performSearch(item.query);
                };
                quickReplyContainer.appendChild(button);
            });
        }

        // Initialize quick reply buttons on page load
        window.onload = createQuickReplyButtons;
    </script>
</body>
</html>
